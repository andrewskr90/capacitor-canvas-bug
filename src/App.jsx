import { useState } from 'react'
import './App.css'

function App() {
  const [dataUrl, setDataUrl] = useState('')

  const generateDataUrl = () => {
    const img = document.getElementById('targetImage')
    const canvas = document.getElementById('targetCanvas')
    const context = canvas.getContext('2d')
    context.drawImage(img, 0, 0)
    console.log(canvas.toDataURL())
    setDataUrl(canvas.toDataURL())
  }

  return (
    <div style={{ display: 'flex', flexDirection: 'column'}}>
      <canvas id='targetCanvas' height={300} width={300} style={{ display: 'none' }} />
      <img id='targetImage' height={300} width={300} src={"data:image/jpeg;base64,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ldve1vBt/wAy0tR+51HBq7YZnz/DSLAuQoCD5ciYbnk4piIZpT+8kDR2hg/Vx4La0scplzXHskTlpTwj7/8Axr1tKEQEBAQEBAQEBAQEBAQEBAQEBAQdc0DHiz2NeNz2hw4FBTVmhuFS3z0VPr2lkYiPFligo6zkpwh/RbND9nMXf/QOQUdZyMRH6CsezsliD/Frm+SgUdXyQYk36KanlHVd72OPyLbeKlKkq9AMaivekc8DrjdHJfuDXX8EFLV4bVw/TU00X2kUkY/EEECWdwHssLjfWLhthvQcRVVzYsc3tNsvFBIDggj1B9oDcD42/RQQ2uiDLU1/ekeeADfRaOb97r+FRtpo+a7WJZCIES7KKjknkbFGLucbdgHWT2BIrNp2h4zZqYaTkvPKHrOG0TYImQs6LG2vvPWT3m5VlSsVjaHDajNbNknJbrKSvTCICAgICAgICAgICAgICAgICAgICAgICAgICCvrMEopvpqWnl7XwxuPEhBR1nJzg8lyaUMJ64pJWeANvBBRVnI5h7tcU9REerMY5Gj8IPigo6vkWmH0NZE/7SN8XiC5QndYYfoJX08LI7RyluYnm5NWtxP1w3etTJhvNpmHSaDiWnx4a47ztMeX4dc+DVjOlTy/JhcOIusM47R3LSms09+mSPr+UYU8t7COS+7I6/kvO0+DN7THtv2o+qyw/RmsmI/ZmJvW6UFn4dp4LJXDe3c08/E9Nhj928+Efno3mBYHDStsz2nu6byPad2DcOxbmPHFI5OZ1muyaq29uUd0LRZGkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIP/2Q=="} alt="Picture of a switch" />
      <button onClick={generateDataUrl}>Log DataURL</button>
      {dataUrl && <>
        <p>Data URL has been logged to console</p>
      </>}
    </div>
  )
}

export default App
